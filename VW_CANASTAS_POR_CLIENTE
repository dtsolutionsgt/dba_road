/****** Object:  View [dbo].[VW_P_CANASTA_MOV]    Script Date: 26/11/2021 01:29:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER VIEW [dbo].[VW_P_CANASTA_MOV]
AS
SELECT        dbo.P_CANASTA_MOV.CODIGO_CANASTA_MOV, dbo.P_CANASTA_MOV.RUTA + ' - ' + dbo.P_RUTA.NOMBRE AS RUTA, dbo.P_CANASTA_MOV.VENDEDOR + ' - ' + dbo.P_VENDEDOR.NOMBRE AS VENDEDOR, 
                         dbo.P_CANASTA_MOV.PRODUCTO, dbo.P_CANASTA_MOV.CANTIDAD_INICIAL, dbo.P_CANASTA_MOV.PESO_INICIAL, dbo.P_CANASTA_MOV.CANTIDAD_RECOLECTADA, dbo.P_CANASTA_MOV.PESO_RECOLECTADO, 
                         dbo.P_CANASTA_MOV.CANTIDAD_PASEANTE, dbo.P_CANASTA_MOV.PESO_PASEANTE, dbo.P_CANASTA_MOV.CANTIDAD_AJUSTE_POSITIVO, dbo.P_CANASTA_MOV.PESO_AJUSTE_POSITIVO, 
                         dbo.P_CANASTA_MOV.CANTIDAD_AJUSTE_NEGATIVO, dbo.P_CANASTA_MOV.PESO_AJUSTE_NEGATIVO, dbo.P_CANASTA_MOV.CANTIDAD_ENTREGADA, dbo.P_CANASTA_MOV.PESO_ENTREGADO, 
                         dbo.P_CANASTA_MOV.ID_TIPO_DOCUMENTO, dbo.P_CANASTA_MOV.USUARIO AS CODIGO_USUARIO_LIQUIDO, dbo.P_USUARIO.NOMBRE AS NOMBRE_USUARIO_LIQUIDO, dbo.P_CANASTA_MOV.NUMERO_DOCUMENTO, 
                         dbo.P_CANASTA_MOV.FECHA_MOV, dbo.P_CANASTA_MOV.FECHA_SISTEMA, dbo.P_CANASTA_MOV.CODIGOLIQUIDACION, dbo.P_CANASTA_TIPO_DOCUMENTO.CODIGO AS TIPO_MOV,P_RUTA.SUCURSAL
FROM            dbo.P_RUTA INNER JOIN
                         dbo.P_CANASTA_MOV ON dbo.P_RUTA.CODIGO = dbo.P_CANASTA_MOV.RUTA INNER JOIN
                         dbo.P_VENDEDOR ON dbo.P_CANASTA_MOV.VENDEDOR = dbo.P_VENDEDOR.CODIGO INNER JOIN
                         dbo.P_USUARIO ON dbo.P_CANASTA_MOV.USUARIO = dbo.P_USUARIO.CODIGO INNER JOIN
                         dbo.P_CANASTA_TIPO_DOCUMENTO ON dbo.P_CANASTA_MOV.ID_TIPO_DOCUMENTO = dbo.P_CANASTA_TIPO_DOCUMENTO.ID_TIPO_DOCUMENTO LEFT OUTER JOIN
                         dbo.P_CLIENTE ON dbo.P_CANASTA_MOV.CLIENTE = dbo.P_CLIENTE.CODIGO
GO

/****** Object:  View [dbo].[VW_CANASTAS_POR_CLIENTE]    Script Date: 02/08/2022 11:32:11 p.Â m. ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE VIEW [dbo].[VW_CANASTAS_POR_CLIENTE]
AS
SELECT dbo.P_CANASTA_CLIENTE.CODIGO_DCANASTA_CLI, dbo.P_CLIENTE.SUCURSAL,
 dbo.P_CANASTA_CLIENTE.CLIENTE AS CODIGO_CLIENTE,
dbo.P_CLIENTE.NOMBRE AS NOMBRE_CLIENTE, dbo.P_CANASTA_CLIENTE.PRODUCTO, dbo.P_CANASTA_CLIENTE.CANTIDAD
FROM dbo.P_CANASTA_CLIENTE INNER JOIN
dbo.P_CLIENTE ON dbo.P_CANASTA_CLIENTE.CLIENTE = dbo.P_CLIENTE.CODIGO
GO


