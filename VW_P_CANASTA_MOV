CREATE VIEW VW_P_CANASTA_MOV AS
SELECT dbo.P_CANASTA_MOV.CODIGO_CANASTA_MOV, dbo.P_CANASTA_MOV.CLIENTE, dbo.P_CANASTA_MOV.RUTA AS CODIGO_RUTA, dbo.P_RUTA.NOMBRE AS NOMBRE_RUTA, dbo.P_CANASTA_MOV.VENDEDOR AS CODIGO_VENDEDOR,
dbo.P_VENDEDOR.NOMBRE AS NOMBRE_VENDEDOR, dbo.P_CANASTA_MOV.PRODUCTO, dbo.P_CANASTA_MOV.CANTIDAD_INICIAL, dbo.P_CANASTA_MOV.PESO_INICIAL, dbo.P_CANASTA_MOV.CANTIDAD_RECOLECTADA,
dbo.P_CANASTA_MOV.PESO_RECOLECTADO, dbo.P_CANASTA_MOV.CANTIDAD_PASEANTE, dbo.P_CANASTA_MOV.PESO_PASEANTE, dbo.P_CANASTA_MOV.CANTIDAD_AJUSTE_POSITIVO,
dbo.P_CANASTA_MOV.PESO_AJUSTE_POSITIVO, dbo.P_CANASTA_MOV.CANTIDAD_AJUSTE_NEGATIVO, dbo.P_CANASTA_MOV.PESO_AJUSTE_NEGATIVO, dbo.P_CANASTA_MOV.CANTIDAD_ENTREGADA,
dbo.P_CANASTA_MOV.PESO_ENTREGADO, dbo.P_CANASTA_MOV.ID_TIPO_DOCUMENTO, dbo.P_CANASTA_MOV.USUARIO AS CODIGO_USUARIO_LIQUIDO, dbo.P_USUARIO.NOMBRE AS NOMBRE_USUARIO_LIQUIDO,
dbo.P_CANASTA_MOV.NUMERO_DOCUMENTO, dbo.P_CANASTA_MOV.FECHA_MOV, dbo.P_CANASTA_MOV.FECHA_SISTEMA, dbo.P_CANASTA_MOV.CODIGOLIQUIDACION
FROM   dbo.P_RUTA INNER JOIN
dbo.P_CANASTA_MOV ON dbo.P_RUTA.CODIGO = dbo.P_CANASTA_MOV.RUTA INNER JOIN
dbo.P_VENDEDOR ON dbo.P_CANASTA_MOV.VENDEDOR = dbo.P_VENDEDOR.CODIGO INNER JOIN
dbo.P_USUARIO ON dbo.P_CANASTA_MOV.USUARIO = dbo.P_USUARIO.CODIGO LEFT OUTER JOIN
dbo.P_CLIENTE ON dbo.P_CANASTA_MOV.CLIENTE = dbo.P_CLIENTE.CODIGO
